2025-11-24 22:32:56.938 +01:00 [INF] Starting Monetaris API
2025-11-24 22:32:56.947 +01:00 [FTL] Application terminated unexpectedly
System.InvalidOperationException: Services for database providers 'Npgsql.EntityFrameworkCore.PostgreSQL', 'Microsoft.EntityFrameworkCore.InMemory' have been registered in the service provider. Only a single database provider can be registered in a service provider. If possible, ensure that Entity Framework is managing its service provider by removing the call to 'UseInternalServiceProvider'. Otherwise, consider conditionally registering the database provider, or maintaining one service provider per database provider.
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, DbContextOptions contextOptions, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<System.IServiceProvider>.get_Instance()
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService(IInfrastructure`1 accessor, Type serviceType)
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.InfrastructureExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.AccessorExtensions.GetService[TService](IInfrastructure`1 accessor)
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.get_Dependencies()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreated()
   at Monetaris.IntegrationTests.Infrastructure.TestWebApplicationFactory.<>c.<ConfigureWebHost>b__0_0(IServiceCollection services) in C:\Users\fandrich\OneDrive - Strukturschmiede - Ihr Erfolg GmbH\Mieterverwaltung\Mahnwesen\Monetaris\Backend\tests\Monetaris.IntegrationTests\Infrastructure\TestWebApplicationFactory.cs:line 51
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.HostBuilderAdapter.ApplyChanges()
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\fandrich\OneDrive - Strukturschmiede - Ihr Erfolg GmbH\Mieterverwaltung\Mahnwesen\Monetaris\Backend\MonetarisApi\Program.cs:line 153
2025-11-24 22:34:28.436 +01:00 [INF] Starting Monetaris API
2025-11-24 22:34:29.011 +01:00 [INF] Starting database seeding...
2025-11-24 22:34:29.084 +01:00 [INF] Seeded 5 tenants
2025-11-24 22:34:29.979 +01:00 [INF] Seeded 7 users
2025-11-24 22:34:29.993 +01:00 [INF] Seeded 11 user-tenant assignments
2025-11-24 22:34:30.035 +01:00 [INF] Seeded sample debtor: Max Muster
2025-11-24 22:34:30.067 +01:00 [INF] Seeded sample case: RE-PORTAL-TEST
2025-11-24 22:34:30.085 +01:00 [INF] Seeded 5 templates
2025-11-24 22:34:30.085 +01:00 [INF] Database seeding completed successfully!
2025-11-24 22:34:30.210 +01:00 [INF] Monetaris API started successfully
2025-11-24 22:34:30.352 +01:00 [WRN] Failed to determine the https port for redirect.
2025-11-24 22:34:30.416 +01:00 [INF] Login attempt for email: admin@monetaris.com
2025-11-24 22:34:30.476 +01:00 [WRN] Login failed for email: admin@monetaris.com. Error: Invalid email or password
2025-11-24 22:34:30.484 +01:00 [INF] HTTP POST /api/auth/login responded 400 in 135.9433 ms
2025-11-24 22:34:30.506 +01:00 [INF] Login attempt for email: nonexistent@example.com
2025-11-24 22:34:30.525 +01:00 [WRN] Login failed for email: nonexistent@example.com. Error: Invalid email or password
2025-11-24 22:34:30.526 +01:00 [INF] HTTP POST /api/auth/login responded 400 in 22.0995 ms
2025-11-24 22:34:30.536 +01:00 [INF] Login attempt for email: admin@monetaris.com
2025-11-24 22:34:30.537 +01:00 [WRN] Login failed for email: admin@monetaris.com. Error: Invalid email or password
2025-11-24 22:34:30.537 +01:00 [INF] HTTP POST /api/auth/login responded 400 in 4.1365 ms
2025-11-24 22:34:30.540 +01:00 [INF] Login attempt for email: client@techsolutions.de
2025-11-24 22:34:30.540 +01:00 [WRN] Login failed for email: client@techsolutions.de. Error: Invalid email or password
2025-11-24 22:34:30.541 +01:00 [INF] HTTP POST /api/auth/login responded 400 in 1.3092 ms
2025-11-24 22:34:30.543 +01:00 [INF] Login attempt for email: 
2025-11-24 22:34:30.544 +01:00 [WRN] Login failed for email: . Error: Invalid email or password
2025-11-24 22:34:30.544 +01:00 [INF] HTTP POST /api/auth/login responded 400 in 1.1457 ms
2025-11-24 22:34:30.546 +01:00 [INF] Login attempt for email: max@monetaris.com
2025-11-24 22:34:30.546 +01:00 [WRN] Login failed for email: max@monetaris.com. Error: Invalid email or password
2025-11-24 22:34:30.547 +01:00 [INF] HTTP POST /api/auth/login responded 400 in 0.9962 ms
